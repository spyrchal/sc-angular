/**
 * @license sc-angular v0.2.2
 * (c) 2015 Sebis
 * License: Sebis Proprietary
 * https://bitbucket.org/sebischair/sc-angular
 */

!function(){angular.module("sociocortex",[]),angular.module("sociocortex").value("scConnection",{baseUri:"http://131.159.30.153",apiVersion:"0.1"})}(),function(){angular.module("sociocortex").service("scCore",["$http","$q","scConnection",function(a,b,c){function d(c){return b(function(b,d){return!(angular.isObject(c)&&angular.isObject(c.auth)&&angular.isString(c.httpMethod)&&angular.isString(c.path)&&angular.isString(c.auth.user)&&angular.isString(c.auth.password))||c.params&&!angular.isObject(c.params)||c.data&&!angular.isObject(c.data)?(console.trace(),console.error("sociocortex#scRequest: invalid options argument",c),d({error:"Validation Failed",message:"invalid options argument"})):a({headers:f(c.auth.user,c.auth.password),url:h(c.path),method:c.httpMethod,params:c.params,data:c.data}).then(b,d)})}function e(a){return b(function(b,c){var e=null;return angular.isObject(a.mxlMethodParameters)||(e={expression:a.mxlMethodParameters}),d({httpMethod:a.httpMethod,path:g(i(a.context),"mxl"),auth:a.auth,params:{method:a.mxlMethod},data:e}).then(b,c)})}function f(a,b){return{Authorization:"Basic "+window.btoa(a+":"+b)}}function g(a,b){return"/"===a.charAt(a.length-1)&&(a=a.substr(0,a.length-1)),"/"===b.charAt(0)&&(b=b.substr(1,c.baseUri.length-1)),a+"/"+b}function h(a){var b=g(c.baseUri,"api/"+c.apiVersion);return g(b,a)}function i(a){return angular.isObject(a)?a.entityId?"entities/"+a.entityId:a.typeId?"types/"+a.typeId:a.workspaceId?"workspaces/"+a.workspaceId:"":"workspaces/"+a}return{scRequest:d,mxlRequest:e}}])}(),function(){angular.module("sociocortex").service("scCrud",["$q","scCore",function(a,b){function c(c){return a(function(a,d){b.scRequest({httpMethod:"GET",path:"groups",auth:c}).then(function(b){return a(b.data)},d)})}function d(c,d,e){return a(function(g,h){var i=angular.isString(d)?"workspaces/"+d+"/types":"types";b.scRequest({httpMethod:"GET",path:i,auth:c}).then(function(b){var d=b.data;if(!e)return g(d);for(var i,j=[],k=0;k<d.length;k++)i=d[k].id,j.push(f(c,i));a.all(j).then(function(a){for(k=0;k<d.length;k++)d[k].attributes=a[k].data;return g(d)},h)},h)})}function e(c,d,e){return a(function(a,h){var i=g([[c,angular.isObject,"auth is an object"],[d,angular.isString,"typeId is a string"]]);return i?h(i):void b.scRequest({httpMethod:"GET",path:"types/"+d,auth:c}).then(function(b){if(!e)return a(b.data);var g=b.data;f(c,d).then(function(b){return g.attributes=b.data,a(g)},h)},h)})}function f(a,c){return b.scRequest({httpMethod:"GET",path:"types/"+c+"/attributes",auth:a})}function g(a){for(var b,c,d,e=0;e<a.length;e++)if(b=a[e][0],c=a[e][1],d=a[e][2],!c(b))return console.trace(),console.error("validation failed",a),{error:"Invalid Parameter",message:d||"no details provided"};return null}return{types:{findAll:d,findOne:e},groups:{findAll:c}}}])}(),function(){angular.module("sociocortex").service("scMxl",["$cacheFactory","$q","scCore",function(a,b,c){function d(a,d){return b(function(b,e){var f=g.get(a);return f?b(f):void c.mxlRequest({httpMethod:"GET",auth:d,context:{workspaceId:a},mxlMethod:"autoComplete"}).then(function(c){return g.put(a,c),b(c)},e)})}function e(a,b,d){return c.mxlRequest({httpMethod:"POST",auth:d,context:b,mxlMethod:"query",mxlMethodParameters:a})}function f(a,b,d){return c.mxlRequest({httpMethod:"POST",auth:d,context:b,mxlMethod:"validate",mxlMethodParameters:a})}var g=a("mxlAutoCompleteCache");return{autoComplete:d,query:e,validate:f}}])}();
//# sourceMappingURL=sc-angular.min.js.map